<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <section id="show-page">
    <h1>Title:</h1>
    <div><%= video.projectName %></div>
    <div>Docket</div>
    <div><%= video.docket %></div>
    <div>Version</div>
    <div><%= video.version %></div>
    <div>Colour Status</div>
    <div><%= video.colourStatus %></div>
    <div>Audio Status</div>
    <div><%= video.audioStatus %></div>
    <div>Approval Status</div>
    <div><%= video.approved %></div>
    <div>URL</div>
    <div><%= video.url %></div>
  </section>

  <!-- Add Comment -->
  <h3>Comments</h3>
  <form id="add-comment-form" method="POST" action="/videos/<%= video._id %>/comments">
    <label>Timecode</label>
    <input type="text" name="timecode">
    <label>Comment:</label>
    <textarea name="content"></textarea>
    <input type="submit" value="Add Comment">
  </form>

  <!-- Comments View -->
  <% if (video.comments.length) { %>
    <table>

      <thead>
        <tr>
          <th>Timecode</th>
          <th>Comment</th>
          <th>Date</th>
        </tr>
      </thead>

      <tbody>
        <% video.comments.forEach(function(comment) { %>
          <tr>
            <td><%= comment.timecode %></td>
            <td><%= comment.content %></td>
            <td><%= comment.createdAt.toLocaleDateString() %> <%= comment.createdAt.toLocaleTimeString([], { hour12: false, hour: '2-digit', minute: '2-digit' }) %></td>
          </tr>
       <% }); %>
      </tbody>
    
    </table>
    <% } else { %>
      <h5>No Comments</h5>
    <% }; %>
</body>
</html>